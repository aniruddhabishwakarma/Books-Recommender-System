{% extends 'base.html' %}

{% block title %}Home - Book Recommender{% endblock %}

{% block content %}
<div class="mx-3 pt-[5.5rem]">

    <!-- Trending Books -->
    {% if top_recommendations %}
    <div class="mb-10">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">Trending Books</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 justify-items-center">
            {% for book in top_recommendations %}
            {% include 'bookcard.html' %}
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- Similar Users Books -->
    {% if similar_users_recommendations %}
    <div class="mb-10">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">Books Liked by Similar Users</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 justify-items-center">
            {% for item in similar_users_recommendations %}
            {% include 'bookcard.html' %}
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- Personalized Recommendations -->
    {% if recommended_books %}
    <div class="mb-10">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">
            Because You Liked: <span class="text-indigo-600">{{ favorite_title }}</span>
        </h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 justify-items-center">
            {% for book in recommended_books %}
            {% include 'bookcard.html' %}
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- Default Featured -->
    {% if not recommended_books and not top_recommendations and not similar_users_recommendations %}
    <div class="mb-10">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">Featured Books</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 justify-items-center">
            {% for book in books %}
            {% include 'bookcard.html' %}
            {% endfor %}
        </div>
    </div>
    {% endif %}

</div>
{% endblock %}